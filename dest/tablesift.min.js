!function(a){var b="0.0.6",c={},d=Array.prototype,e=d.forEach,f=d.map,g=d.slice,h=Object.prototype,i=h.toString,j=function(a,b,c){if(null!=a){e&&a.forEach===e&&a.forEach(b,c);var d,f;for(d=0,f=a.length;f>d;++d)d in a&&b.call(c,a[d],d,a)}},k=function(a,b,c){var d=[];return null==a?d:f&&a.map===f?a.map(b,c):(j(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)},l=function(a,b,c){return k(k(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),function(a){return a.value})},m=function(a){return j(g.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},n=function(a){return"[object String]"===i.call(a)},o={removeChars:[",","$"]},p=function(a){return n(a)?document.getElementById(a):a},q=function(a,b,c){var d=[];return j(a.rows,function(a){var e=[];j(a.children,function(a){var d=a.cellIndex,f=a.textContent;c&&c[d]?e.push(c[d](f,a)):(j(b,function(a){f=f.replace(a,"")}),e.push(isNaN(+f)?f:+f))}),d.push([e,a])}),d},r=function(a,b,c){var d;if(d=a.className?a.className.split(" "):[],"add"===c&&d.push(b),"remove"===c){var e=d.indexOf(b);e>-1&&d.splice(e,1)}a.className=d.join(" ")},s=function(a,b){b=m(o,b);var c=p(a),d=c.tHead.rows[0].cells,e=c.tBodies[0],f=q(e,b.removeChars,b.customSort);j(d,function(a){r(a,"siftable","add"),a.addEventListener("click",function(){var b=a.cellIndex,g=a.getAttribute("data-sort"),h=l(f,function(a){return a[0][b]});j(d,function(b){a!==b&&(b.setAttribute("data-sort",""),r(b,"siftable-asc","remove"),r(b,"siftable-des","remove"))}),"asc"===g?(h.reverse(),a.setAttribute("data-sort","des"),r(a,"siftable-des","add"),r(a,"siftable-asc","remove")):(a.setAttribute("data-sort","asc"),r(a,"siftable-asc","add"),r(a,"siftable-des","remove"));var i=document.createDocumentFragment();j(h,function(a){i.appendChild(a[1])}),e=c.removeChild(e).cloneNode(),c.appendChild(e).appendChild(i)})})};c.init=s,c.VERSION=b,a.TableSift=c}(window);