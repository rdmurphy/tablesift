!function(a){var b="0.0.7",c={},d=Array.prototype,e=d.forEach,f=d.map,g=d.slice,h=Object.prototype,i=h.toString,j=function(a,b,c){if(null!=a)if(e&&a.forEach===e)a.forEach(b,c);else{var d,f;for(d=0,f=a.length;f>d;++d)d in a&&b.call(c,a[d],d,a)}},k=function(a,b,c){var d=[];return null==a?d:f&&a.map===f?a.map(b,c):(j(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)},l=function(a,b,c){return k(k(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),function(a){return a.value})},m=function(a){return j(g.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},n=function(a){return"[object String]"===i.call(a)},o={classAsc:"sift-asc",classDes:"sift-des",customSort:{},noSort:[],removeChars:[",","$"]},p=function(a){return n(a)?document.getElementById(a):a},q=function(a,b){var c=[];return j(a.rows,function(a){var d=[];j(a.children,function(a){var c=a.cellIndex,e=a.textContent;b.customSort&&b.customSort[c]?d.push(b.customSort[c](e,a)):(j(b.removeChars,function(a){var b=new RegExp(a,"g");e=e.replace(b,"")}),d.push(isNaN(+e)?e:+e))}),c.push([d,a])}),c},r=function(a,b,c){var d;d=a.className?a.className.split(" "):[],j(b,function(a,b){if("+"===c[b]&&d.push(a),"-"===c[b]){var e=d.indexOf(a);e>-1&&d.splice(e,1)}}),a.className=d.join(" ")},s=function(a){var b=document.createDocumentFragment();return j(a,function(a){b.appendChild(a[1])}),b},t=function(a,b){b=this.options=m(o,b);var c=this._table=p(a),d=c.tHead.rows[0].cells,e=c.tBodies[0],f=this._rowData=q(e,b);j(d,function(a){var g=a.cellIndex;return b.noSort&&b.noSort.indexOf(g)>-1?!1:(r(a,["siftable"],["+"]),void a.addEventListener("click",function(){var h=a.getAttribute("data-sort"),i=l(f,function(a){return a[0][g]});j(d,function(c){a!==c&&(c.setAttribute("data-sort",""),r(c,[b.classAsc,b.classDes],["-","-"]))}),"asc"===h?(i.reverse(),a.setAttribute("data-sort","des"),r(a,[b.classDes,b.classAsc],["+","-"])):(a.setAttribute("data-sort","asc"),r(a,[b.classAsc,b.classDes],["+","-"]));var k=s(i);e=c.removeChild(e).cloneNode(),c.appendChild(e).appendChild(k)}))})};c.init=t,c.VERSION=b,a.TableSift=c}(window);