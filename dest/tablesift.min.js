/* tablesift - 0.0.1 2013-08-27 */
!function(){var a={};window.TableSift=a;var b=Array.prototype,c=b.forEach,d=b.map,e=Object.prototype,f=e.toString,g=function(a,b,d){if(null!=a){c&&a.forEach===c&&a.forEach(b,d);var e,f;for(e=0,f=a.length;f>e;++e)e in a&&b.call(d,a[e],e,a)}},h=function(a,b,c){var e=[];return null==a?e:d&&a.map===d?a.map(b,c):(g(a,function(a,d,f){e.push(b.call(c,a,d,f))}),e)},i=function(a,b,c){return h(h(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),function(a){return a.value})},j=function(a){return"[object String]"===f.call(a)},k=function(a){return j(a)?document.getElementById(a):a},l=function(a){var b=[];return g(a.rows,function(a){var c=[];g(a.children,function(a){var b=a.textContent;-1!==b.indexOf(",")&&(b=b.replace(/,/g,"")),-1!==b.indexOf("$")&&(b=b.replace(/\$/g,"")),c.push(isNaN(+b)?b:+b)}),b.push([c,a])}),b};a.init=function(a){var b=k(a),c=b.tHead,d=b.tBodies[0],e=l(d);g(c.getElementsByTagName("th"),function(a){a.addEventListener("click",function(){var c=a.cellIndex,f=a.getAttribute("data-sort"),h=i(e,function(a){return a[0][c]});"asc"===f?(h.reverse(),a.setAttribute("data-sort","des")):a.setAttribute("data-sort","asc");var j=document.createDocumentFragment();g(h,function(a){j.appendChild(a[1])}),d=b.removeChild(d).cloneNode(),b.appendChild(d).appendChild(j)})})}}.call(this);