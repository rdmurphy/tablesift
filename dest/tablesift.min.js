/* tablesift - 0.0.4 2013-09-06 */
!function(a,b){b.TableSift=a;var c=Array.prototype,d=c.forEach,e=c.map,f=c.slice,g=Object.prototype,h=g.toString,i=function(a,b,c){if(null!=a){d&&a.forEach===d&&a.forEach(b,c);var e,f;for(e=0,f=a.length;f>e;++e)e in a&&b.call(c,a[e],e,a)}},j=function(a,b,c){var d=[];return null==a?d:e&&a.map===e?a.map(b,c):(i(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)},k=function(a,b,c){return j(j(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),function(a){return a.value})},l=function(a){return i(f.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},m=function(a){return"[object String]"===h.call(a)},n={removeChars:[",","$"]},o=function(a){return m(a)?document.getElementById(a):a},p=function(a,b,c){var d=[];return i(a.rows,function(a){var e=[];i(a.children,function(a){var d=a.cellIndex,f=a.textContent;c&&c[d]?e.push(c[d](f,a)):(i(b,function(a){f=f.replace(a,"")}),e.push(isNaN(+f)?f:+f))}),d.push([e,a])}),d},q=function(a,b,c){var d;if(d=a.className?a.className.split(" "):[],"add"===c&&d.push(b),"remove"===c){var e=d.indexOf(b);e>-1&&d.splice(e,1)}a.className=d.join(" ")};a.init=function(a,b){b=l(n,b);var c=o(a),d=c.tHead.rows[0].cells,e=c.tBodies[0],f=p(e,b.removeChars,b.customSort);i(d,function(a){q(a,"siftable","add"),a.addEventListener("click",function(){var b=a.cellIndex,g=a.getAttribute("data-sort"),h=k(f,function(a){return a[0][b]});i(d,function(b){a!==b&&(b.setAttribute("data-sort",""),q(b,"siftable-asc","remove"),q(b,"siftable-des","remove"))}),"asc"===g?(h.reverse(),a.setAttribute("data-sort","des"),q(a,"siftable-des","add"),q(a,"siftable-asc","remove")):(a.setAttribute("data-sort","asc"),q(a,"siftable-asc","add"),q(a,"siftable-des","remove"));var j=document.createDocumentFragment();i(h,function(a){j.appendChild(a[1])}),e=c.removeChild(e).cloneNode(),c.appendChild(e).appendChild(j)})})}}({},function(){return this}());