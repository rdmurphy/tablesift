/* tablesift - 0.0.4 2013-09-06 */
!function(){var a={};window.TableSift=a;var b=Array.prototype,c=b.forEach,d=b.map,e=b.slice,f=Object.prototype,g=f.toString,h={removeChars:[",","$"]},i=function(a,b,d){if(null!=a){c&&a.forEach===c&&a.forEach(b,d);var e,f;for(e=0,f=a.length;f>e;++e)e in a&&b.call(d,a[e],e,a)}},j=function(a,b,c){var e=[];return null==a?e:d&&a.map===d?a.map(b,c):(i(a,function(a,d,f){e.push(b.call(c,a,d,f))}),e)},k=function(a,b,c){return j(j(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),function(a){return a.value})},l=function(a){return i(e.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},m=function(a){return"[object String]"===g.call(a)},n=function(a){return m(a)?document.getElementById(a):a},o=function(a,b,c){var d=[];return i(a.rows,function(a){var e=[];i(a.children,function(a){var d=a.cellIndex,f=a.textContent;c&&c[d]?e.push(c[d](f,a)):(i(b,function(a){f=f.replace(a,"")}),e.push(isNaN(+f)?f:+f))}),d.push([e,a])}),d},p=function(a,b,c){var d;if(d=a.className?a.className.split(" "):[],"add"===c&&d.push(b),"remove"===c){var e=d.indexOf(b);e>-1&&d.splice(e,1)}a.className=d.join(" ")};a.init=function(a,b){b=l(h,b);var c=n(a),d=c.tHead.rows[0].cells,e=c.tBodies[0],f=o(e,b.removeChars,b.customSort);i(d,function(a){p(a,"siftable","add"),a.addEventListener("click",function(){var b=a.cellIndex,g=a.getAttribute("data-sort"),h=k(f,function(a){return a[0][b]});i(d,function(b){a!==b&&(b.setAttribute("data-sort",""),p(b,"siftable-asc","remove"),p(b,"siftable-des","remove"))}),"asc"===g?(h.reverse(),a.setAttribute("data-sort","des"),p(a,"siftable-des","add"),p(a,"siftable-asc","remove")):(a.setAttribute("data-sort","asc"),p(a,"siftable-asc","add"),p(a,"siftable-des","remove"));var j=document.createDocumentFragment();i(h,function(a){j.appendChild(a[1])}),e=c.removeChild(e).cloneNode(),c.appendChild(e).appendChild(j)})})}}.call(this);