!function(a){var b="0.0.9",c={},d=_.each,e=_.map,f=_.sortBy,g=_.extend,h=_.isString,i={classAsc:"sift-asc",classDes:"sift-des",customSort:{},noSort:[],removeChars:[",","$"]},j=function(a){return h(a)?document.getElementById(a):a},k=function(a,b){var c=[],f=e(b.removeChars,function(a){var b=a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");return new RegExp(b,"g")});return d(a.rows,function(a){var e=[];d(a.children,function(a){var c=a.cellIndex,g=a.textContent;b.customSort&&b.customSort[c]?e.push(b.customSort[c](g,a)):(d(f,function(a){g=g.replace(a,"")}),e.push(isNaN(+g)?g:+g))}),c.push([e,a])}),c},l=function(a,b,c){var e;e=a.className?a.className.split(" "):[],d(b,function(a,b){if("+"===c[b]&&e.push(a),"-"===c[b]){var d=e.indexOf(a);d>-1&&e.splice(d,1)}}),a.className=e.join(" ")},m=function(a){var b=document.createDocumentFragment();return d(a,function(a){b.appendChild(a[1])}),b},n=function(a,b){b=this.options=g(i,b);var c=this._table=j(a),e=c.tHead.rows[0].cells,h=c.tBodies[0],n=this._rowData=k(h,b);d(e,function(a){var g=a.cellIndex;return b.noSort&&b.noSort.indexOf(g)>-1?!1:(l(a,["siftable"],["+"]),void a.addEventListener("click",function(){var i=a.getAttribute("data-sort"),j=f(n,function(a){return a[0][g]});d(e,function(c){a!==c&&(c.setAttribute("data-sort",""),l(c,[b.classAsc,b.classDes],["-","-"]))}),"asc"===i?(j.reverse(),a.setAttribute("data-sort","des"),l(a,[b.classDes,b.classAsc],["+","-"])):(a.setAttribute("data-sort","asc"),l(a,[b.classAsc,b.classDes],["+","-"]));var k=m(j);h=c.removeChild(h).cloneNode(),c.appendChild(h).appendChild(k)}))})};c.init=n,c.VERSION=b,a.TableSift=c}(window);