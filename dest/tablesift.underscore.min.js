/* tablesift - 0.0.5 2013-09-06 */
!function(a,b){b.TableSift=a;var c=_.each;_.map;var d=_.sortBy,e=_.extend,f=_.isString,g={removeChars:[",","$"]},h=function(a){return f(a)?document.getElementById(a):a},i=function(a,b,d){var e=[];return c(a.rows,function(a){var f=[];c(a.children,function(a){var e=a.cellIndex,g=a.textContent;d&&d[e]?f.push(d[e](g,a)):(c(b,function(a){g=g.replace(a,"")}),f.push(isNaN(+g)?g:+g))}),e.push([f,a])}),e},j=function(a,b,c){var d;if(d=a.className?a.className.split(" "):[],"add"===c&&d.push(b),"remove"===c){var e=d.indexOf(b);e>-1&&d.splice(e,1)}a.className=d.join(" ")};a.init=function(a,b){b=e(g,b);var f=h(a),k=f.tHead.rows[0].cells,l=f.tBodies[0],m=i(l,b.removeChars,b.customSort);c(k,function(a){j(a,"siftable","add"),a.addEventListener("click",function(){var b=a.cellIndex,e=a.getAttribute("data-sort"),g=d(m,function(a){return a[0][b]});c(k,function(b){a!==b&&(b.setAttribute("data-sort",""),j(b,"siftable-asc","remove"),j(b,"siftable-des","remove"))}),"asc"===e?(g.reverse(),a.setAttribute("data-sort","des"),j(a,"siftable-des","add"),j(a,"siftable-asc","remove")):(a.setAttribute("data-sort","asc"),j(a,"siftable-asc","add"),j(a,"siftable-des","remove"));var h=document.createDocumentFragment();c(g,function(a){h.appendChild(a[1])}),l=f.removeChild(l).cloneNode(),f.appendChild(l).appendChild(h)})})}}({},function(){return this}());